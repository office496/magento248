
<?php /** @var \\Magento\\Reports\\Block\\Product\\Widget\\Viewed \$block */ \$collection = []; foreach (\$block->getItemsCollection() as \$item) { \$collection[\$item->getId()] = \$item; // dedup pe product_id } if (count(\$collection) < 3) { return; } // empty-state ?> <section class=\"mt-8\"> <div class=\"flex items-baseline justify-between mb-4\"> <h2 class=\"text-lg md:text-xl font-bold text-gray-800\">Vizualizate recent</h2> </div> <div class=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4\"> <?php foreach (array_slice(array_values(\$collection), 0, (int) (\$block->getData(page_size) ?: 8)) as \$product): ?> <?php \$img = \$block->getImage(\$product, product_page_image_small); ?> <a class=\"group block bg-white rounded-lg border border-gray-100 overflow-hidden hover:shadow-sm transition-shadow\" href=\"<?= \$product->getProductUrl() ?>\" aria-label=\"<?= \$block->escapeHtmlAttr(\$product->getName()) ?>\"> <div class=\"aspect-[4/3] bg-white\"> <img src=\"<?= \$img->getImageUrl() ?>\" alt=\"<?= \$block->escapeHtmlAttr(\$product->getName()) ?>\" loading=\"lazy\" class=\"w-full h-full object-contain\" /> </div> <div class=\"p-3\"> <div class=\"text-sm text-gray-800 line-clamp-2 group-hover:underline\"><?= \$block->escapeHtml(\$product->getName()) ?></div> <div class=\"mt-1 text-sm text-gray-900\"><?= \$block->getProductPrice(\$product) ?></div> </div> </a> <?php endforeach; ?> </div> </section> PHTML
